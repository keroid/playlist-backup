# 网易云音乐歌单备份脚本使用说明

## 重要：使用 Cookie 登录

**脚本使用 Cookie 方式登录，无需账号密码，避免触发风控。**

### 获取 Cookie 方法

1. 打开浏览器（Chrome/Edge等），登录网易云音乐
2. 按 F12 打开开发者工具
3. 切换到 Network 标签
4. 刷新页面
5. 点击任意请求，在 Request Headers 中找到 `Cookie:`
6. 复制完整的 Cookie 字符串（从 `Cookie:` 后面的所有内容）
7. 粘贴到 `config.ini` 的 `cookie` 配置项中

**示例：**
```ini
[netease]
cookie = MUSIC_U=xxxxx; __csrf=yyyyy; ...
```

### 脚本功能

- 支持备份公开和私密歌单（需要有效的 Cookie）
- 备份内容：歌单名、简介、封面、歌曲名、作者、歌曲 URL
- 使用 `https://apis.netstart.cn/music` API，无需加密
- 支持在配置文件中指定歌单 ID 列表
- 支持命令行参数指定单个歌单 ID

## 安装依赖

```bash
pip install -r requirements.txt
```

## 运行备份

### 方式一：备份所有歌单

在 `config.ini` 中不填写 `playlist_ids`，留空即可：

```ini
[netease]
playlist_ids =
```

然后运行：
```bash
python backup.py
```

### 方式二：在配置文件中指定歌单列表

在 `config.ini` 中填写要备份的歌单 ID：

```ini
[netease]
playlist_ids = 8741680534, 17607559250, 123456789
```

多个 ID 用逗号分隔，然后运行：
```bash
python backup.py
```

### 方式三：通过命令行参数指定单个歌单

```bash
python backup.py 8741680534
```

其中 `8741680534` 是歌单 ID，可以在歌单 URL 中找到，例如：
`https://music.163.com/#/playlist?id=8741680534`

## 备份内容

每个歌单会生成一个文件夹，包含：
- `playlist.json` - 完整的 JSON 格式数据
- `playlist.txt` - 易读的文本格式
- 封面图片（如果在配置中启用）

## 注意事项

- **必须提供 Cookie 才能备份私密歌单**
- Cookie 有有效期，建议定期更新
- 不要将包含 Cookie 的 `config.ini` 文件分享给他人
- 如遇到 API 限制，请等待一段时间后重试
- 如果同时使用配置文件和命令行参数，命令行参数优先
